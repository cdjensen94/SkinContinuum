/* Attach this class to your editor container:
   <div id="editor" class="ace-continuum"></div>
*/
@import '../variables.less';

/* editor surface */
.ace_editor {
    background: @color-black;
    color: @color-white;
    border: 1px solid @accent-primary;
    box-sizing: border-box;
    width: 100% !important;
    min-height: 300px !important;
    display: block;
}


/* gutter / line numbers */
.ace_gutter {
    background: @bg-alt !important;
    color: @accent-hover !important;
    border-right: 1px solid @accent-alt !important;
}

/* cursor */
.ace_cursor {
    border-left: 1px solid @accent-alt !important;
}

/* selection */
.ace_marker-layer .ace_selection {
    background: fade(#40a0ff, 22%);
}
.ace_multiselect .ace_selection.ace_start {
    box-shadow: 0 0 0 1px @accent-alt;
}

/* active line & matching bracket */
.ace_marker-layer .ace_active-line { background: fade(#001933, 35%); }
.ace_marker-layer .ace_bracket    { border: 1px solid fade(#40a0ff, 40%); margin: -1px 0 0 -1px; }

/* invisibles (whitespace guides) */
.ace_invisible { color: fade(#AAAAAA, 40%); }

/* token colors — mapping your CodeMirror classes to Ace token classes */
.ace_keyword           { color: @code-keyword; font-weight: bold; }  // .cm-keyword
.ace_string            { color: @code-string; }
.ace_comment           { color: @code-comment; font-style: italic; }
.ace_constant.ace_numeric { color: @code-number; }                            // .cm-number
.ace_variable.ace_language { color: @code-variable; }
.ace_identifier        { color: @code-identifier; }
.ace_storage,          /* defs / storage words */
.ace_entity.ace_name,
.ace_support.ace_type  { color: @code-type; }

/* “MediaWiki-like” extras (best-effort mapping) */
.ace_markup.ace_heading             { color: @code-section-header; font-weight: bold; }   // .cm-mw-section-header
.ace_support.ace_function           { color: @code-function !important; }               // .cm-def example
.ace_meta.ace_tag                   { color: @code-tag !important; }               // exttag-name
.ace_meta.ace_tag.ace_attribute     { color: @code-attribute !important; }               // htmltag-attribute
.ace_markup.ace_link                { color: @code-link-text !important; }               // link-brackets
.ace_string.ace_other               { color: @code-other !important; }               // link pagename-ish
.ace_markup.ace_underline           { color: @code-underline !important; }               // link text-ish
.ace_support.ace_constant           { color: @code-constant !important; }               // exttag-attribute
.ace_variable.ace_language          { color: @code-language !important; }               // mw-template-ish
.ace_support.ace_function.ace_builtin { color: @code-function-builtin !important; }             // parserfunction-name-ish
.ace_markup.ace_list                { color: @code-list !important; }               // exttag-brackets
.ace_markup.ace_other               { color: @code-other !important; }               // exttag content-ish

/* assuming your editor element has class "ace-continuum" */
/* base gutter bg + text color */
.ace-tm .ace_gutter {
    background: @bg-alt !important;
    color: @accent-hover !important;
}
/* make sure individual cells inherit/override as needed */
.ace_gutter .ace_gutter-cell {
    color: @accent-hover !important;
}

/* active line number */
.ace_gutter .ace_gutter-active-line,
.ace_gutter .ace_gutter-cell.ace_gutter-active-line {
    background: fade(#002B5C, 35%) !important;
    color: @accent-primary !important;
}

/* annotations (errors/warnings/info) can override color—pin them */
.ace_gutter .ace_gutter-cell.ace_error   { color: #ff6b6b !important; }
.ace_gutter .ace_gutter-cell.ace_warning { color: #ffd166 !important; }
.ace_gutter .ace_gutter-cell.ace_info    { color: #6ec1ff !important; }

/* fold widgets live inside gutter; keep them visible on dark bg */
.ace_gutter .ace_fold-widget,
.ace_gutter .ace_fold-widget:hover {
    color: @accent-hover !important;
}